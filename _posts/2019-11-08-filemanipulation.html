---
layout: post
title: "File upload/download"
categories: [features]
scripts: 
  - url: "https://cdn.jsdelivr.net/npm/vue@2.6.0/dist/vue.min.js"
    type: "absolute"
  - url: "/assets/src/core.js"
    type: "relative"
inlinescript: >
  <script>
  const app = new Vue({
    el: '#app',
    data: function() {
      return {
        'core': new Core(),
        'filename': 'untitled.txt',
        'msg': 'The quick brown fox'
      }
    },
    methods: {
      onDownloadClick: function () {
        this.core.fileWriteText(this.filename, this.msg);
      },
      onOpenClick: function () {
        this.core.fileReadText(this.onFileReadLoad.bind(this));
      },
      onFileReadLoad: function (ev, v, i, a) {
        this.filename = v.name;
        this.msg = ev.target.result + ' ' + Date.now();
      }
    }
  });
  </script>
---
{% raw %}
<div id="app" class="app">
  <input type="text" name="txtFilename" v-model="filename"></input>
  <button type="button" id="btnOpen" @click="onOpenClick">Open...</button>
  <button type="button" id="btnDownload" @click="onDownloadClick">Download</button>
  <p>
    {{ msg }}
  </p>
</div>
{% endraw %}