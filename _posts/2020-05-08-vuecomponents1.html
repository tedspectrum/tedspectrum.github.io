---
layout: post
title:  "Panels, Button lists and content in Vue.js 1"
styles:
  - url: "/assets/styles/transitions.css"
    type: "relative"
  - url: "/assets/styles/components/panel.css"
    type: "relative"
scripts: 
  - url: "https://cdn.jsdelivr.net/npm/vue@2.6.0/dist/vue.js"
    type: "absolute"
  - url: "/assets/src/mixins/eventbus.js"
    type: "relative"
  - url: "/assets/src/components/panel.js"
    type: "relative"
  - url: "/assets/src/components/buttonlist.js"
    type: "relative"
  - url: "/assets/src/components/content.js"
    type: "relative"
categories: [features]
inlinestyle: >
  <style>
  .app {
    width: 100%;
    height: 100vh;
    margin: 0 auto 0 auto;
    border: 1px solid lightgray;
    overflow: hidden;
  }
  .v-cloak {
    display: none;
  }
  .buttonlist ul {
    margin: 0;
    list-style-type: none;
  }
  .buttonlist--button {
    width: 100%;
    padding: 0.5rem 1rem 0.5rem 1rem;
    text-align: left;
  }
  .heading2 {
    background-color: white;
    padding-left: 1rem;
  }
  </style>
inlinescript: > 
  <script>
  const app = new Vue({
    el: '#postapp',
    components: {
      'teds-panel': PanelComponent,
      'teds-buttonlist': ButtonListComponent,
      'teds-content': ContentComponent
    },
    data: {
      mainmenu: {
        name: 'main',
        active: false
      },
      mainitems: [
        { 'name': 'One', 'active': true },
        { 'name': 'Two', 'active': false },
        { 'name': 'Three', 'active': false }
      ]
    },
    mixins: [EventBusMixin],
    mounted: function() {
      this.bus.$on('panel:open', this.onPanelOpen);
      this.bus.$on('panel:close', this.onPanelClose);
      this.bus.$on('buttonlist:select', this.onSelect)
    },
    methods: {
      onPanelOpen: function(m) {
        m.active = true;
      },
      onPanelClose: function(m) {
        m.active = false;
      },
      onSelect: function(m, val) {
        if(m.active !== val) { m.active = val; };
        this.onPanelClose(this.mainmenu);
      }
    }
  });
  </script>
---
{% raw %}
<div id="postapp" class="app panel-container" v-cloak>
  <teds-panel :model="mainmenu" classes="panel-topleft" transition="slidedownright">
    <h2 class="heading2">Menu</h2>
    <teds-buttonlist :items="mainitems"></teds-buttonlist>
  </teds-panel>
  <h2 class="heading2">Content Blocks</h2>
  <button @click="onPanelOpen(mainmenu)">Menu</button>
  <teds-content :name="mainitems[0].name" :active="mainitems[0].active">
    <h3>Content 1</h3>
    <p>This is the first content</p>
  </teds-content>
  <teds-content :name="mainitems[1].name" :active="mainitems[1].active">
    <h3>Content two</h3>
    <p>Content is separate to controls</p>
  </teds-content>
  <teds-content :name="mainitems[2].name" :active="mainitems[2].active">
    <h3>Content 3</h3>
    <p>content three</p>
  </teds-content>
</div>
{% endraw %}