---
layout: post
title:  "Web apps in Jekyll - updated"
categories: [web apps]
---

# Setup for styles and scripts at top, nothing added at bottom

To setup Jekyll so that posts can have scripts in the footer and styles added in the header, 
amend the __head.html__ file and __footer.html__ in the **_includes** directory.

Add front matter to the jekyll post to provide data that informs what scripts and styles to add.

Finally wrap vue template in html content in __raw__, __endraw__ liquid tags to allow double brackets
etc. in the content.

## Data in the post front matter

Add data for the styles and scripts in the post front matter

{% highlight yaml %}
{% raw %}
---
layout: post
title:  "Some title"
styles:
  - url: "/relative_path_to_css/some.css"
    type: "relative"
scripts: 
  - url: "https://mycdn/somecode.js"
    type: "absolute"
  - url: "/relative_path_to_script/some.js"
    type: "relative"
inlinestyle: >
  <style>
    .app {}
  </style>
inlinescript: >
  <script>
  const myVal = 0;
  </script>
---
{% endraw %}
{% endhighlight %}

## styles in the header

Add the code below in the __head.html__ file before the end head tag

{% highlight liquid %}
{% raw %}
  {% for item in page.styles %}
  {% case item.type %}
  {% when "absolute" %}
  <link rel="stylesheet" href="{{ item.url }}">
  {% when "relative" %}
  <link rel="stylesheet" href="{{ item.url | relative_url }}">
  {% endcase %}
  {% endfor %}
  {% if page.inlinestyle %}
  {{ page.inlinestyle }}
  {% endif %}
{% endraw %}
{% endhighlight %}

And in the __footer.html__ 

{% highlight liquid %}
{% raw %}
{% for item in page.scripts %}
  {% case item.type %}
  {% when "absolute" %}
  <script src="{{ item.url }}"></script>
  {% when "relative" %}
  <script src="{{ item.url | relative_url }}"></script>
  {% endcase %}
{% endfor %}
{% if page.inlinescript %}
{{ page.inlinescript }}
{% endif %}
{% endraw %}
{% endhighlight %}